{"ast":null,"code":"import _objectWithoutProperties from \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/src/react-router/routes/index.js\";\nimport React from 'react';\nimport { Route, Switch, withRouter, Redirect } from 'react-router-dom';\nimport { AppContainer } from 'shared/containers';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { SignUpEntry, SignInEntry, ChatEntry } from 'entries';\nimport { getToken } from 'modules/utils';\n\nfunction RoutesContainer(_ref) {\n  var location = _ref.location;\n\n  var Workaround = function Workaround(_ref2) {\n    var action = _ref2.action,\n        children = _ref2.children;\n    return action === 'REPLACE' ? null : children;\n  };\n\n  var CustomRoute = function CustomRoute(_ref3) {\n    var protectedRoute = _ref3.protectedRoute,\n        Component = _ref3.component,\n        rest = _objectWithoutProperties(_ref3, [\"protectedRoute\", \"component\"]);\n\n    return React.createElement(Route, Object.assign({}, rest, {\n      render: function render(props) {\n        var history = props.history;\n        var token = getToken();\n\n        if (!token && protectedRoute) {\n          return React.createElement(Workaround, {\n            action: history.action,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, React.createElement(Redirect, {\n            to: {\n              pathname: 'signin',\n              state: {\n                from: props.location\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }));\n        }\n\n        if (token && !protectedRoute) {\n          return React.createElement(Workaround, {\n            action: history.action,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          }, React.createElement(Redirect, {\n            to: {\n              pathname: '/',\n              state: {\n                from: props.location\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }));\n        }\n\n        return React.createElement(Component, Object.assign({}, props, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }));\n  };\n\n  return React.createElement(AppContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(TransitionGroup, {\n    className: \"transition-group-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(CSSTransition, {\n    key: location.key,\n    timeout: {\n      enter: 300,\n      exit: 200\n    },\n    classNames: \"fade\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"route-section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Switch, {\n    location: location,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(CustomRoute, {\n    exact: true,\n    path: \"/\",\n    component: ChatEntry,\n    protectedRoute: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }), React.createElement(CustomRoute, {\n    exact: true,\n    path: \"/signin\",\n    component: SignInEntry,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }), React.createElement(CustomRoute, {\n    exact: true,\n    path: \"/signup\",\n    component: SignUpEntry,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }))))));\n}\n\nexport default withRouter(RoutesContainer);","map":{"version":3,"sources":["/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/src/react-router/routes/index.js"],"names":["React","Route","Switch","withRouter","Redirect","AppContainer","TransitionGroup","CSSTransition","SignUpEntry","SignInEntry","ChatEntry","getToken","RoutesContainer","location","Workaround","action","children","CustomRoute","protectedRoute","Component","component","rest","props","history","token","pathname","state","from","key","enter","exit"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SACCC,KADD,EAECC,MAFD,EAGCC,UAHD,EAICC,QAJD,QAKO,kBALP;AAOA,SACCC,YADD,QAEO,mBAFP;AAIA,SACCC,eADD,EAECC,aAFD,QAGO,wBAHP;AAKA,SACCC,WADD,EAECC,WAFD,EAGCC,SAHD,QAIO,SAJP;AAMA,SACCC,QADD,QAEO,eAFP;;AAKA,SAASC,eAAT,OAAwC;AAAA,MAAZC,QAAY,QAAZA,QAAY;;AACvC,MAAMC,UAAU,GAAG,SAAbA,UAAa;AAAA,QAAGC,MAAH,SAAGA,MAAH;AAAA,QAAWC,QAAX,SAAWA,QAAX;AAAA,WAClBD,MAAM,KAAK,SAAX,GAAuB,IAAvB,GAA8BC,QADZ;AAAA,GAAnB;;AAIA,MAAMC,WAAW,GAAG,SAAdA,WAAc,QAAuD;AAAA,QAApDC,cAAoD,SAApDA,cAAoD;AAAA,QAAzBC,SAAyB,SAApCC,SAAoC;AAAA,QAAXC,IAAW;;AAC1E,WACC,oBAAC,KAAD,oBACKA,IADL;AAEC,MAAA,MAAM,EAAE,gBAAAC,KAAK,EAAI;AAAA,YAEfC,OAFe,GAGZD,KAHY,CAEfC,OAFe;AAKhB,YAAMC,KAAK,GAAGb,QAAQ,EAAtB;;AAEA,YAAI,CAACa,KAAD,IAAUN,cAAd,EAA8B;AAC7B,iBACC,oBAAC,UAAD;AAAY,YAAA,MAAM,EAAEK,OAAO,CAACR,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACC,oBAAC,QAAD;AACC,YAAA,EAAE,EAAE;AACHU,cAAAA,QAAQ,EAAE,QADP;AAEHC,cAAAA,KAAK,EAAE;AAAEC,gBAAAA,IAAI,EAAEL,KAAK,CAACT;AAAd;AAFJ,aADL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,CADD;AAUA;;AAED,YAAIW,KAAK,IAAI,CAACN,cAAd,EAA8B;AAC7B,iBACC,oBAAC,UAAD;AAAY,YAAA,MAAM,EAAEK,OAAO,CAACR,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACC,oBAAC,QAAD;AACC,YAAA,EAAE,EAAE;AACHU,cAAAA,QAAQ,EAAE,GADP;AAEHC,cAAAA,KAAK,EAAE;AAAEC,gBAAAA,IAAI,EAAEL,KAAK,CAACT;AAAd;AAFJ,aADL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,CADD;AAUA;;AAED,eACC,oBAAC,SAAD,oBAAeS,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADD;AAGA,OAtCF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADD;AA0CA,GA3CD;;AA6CA,SACC,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,eAAD;AACC,IAAA,SAAS,EAAC,4BADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGC,oBAAC,aAAD;AACC,IAAA,GAAG,EAAET,QAAQ,CAACe,GADf;AAEC,IAAA,OAAO,EAAE;AAAEC,MAAAA,KAAK,EAAE,GAAT;AAAcC,MAAAA,IAAI,EAAE;AAApB,KAFV;AAGC,IAAA,UAAU,EAAC,MAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKC;AAAS,IAAA,SAAS,EAAC,eAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEjB,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,WAAD;AACC,IAAA,KAAK,MADN;AAEC,IAAA,IAAI,EAAC,GAFN;AAGC,IAAA,SAAS,EAAEH,SAHZ;AAIC,IAAA,cAAc,MAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,EAOC,oBAAC,WAAD;AACC,IAAA,KAAK,MADN;AAEC,IAAA,IAAI,EAAC,SAFN;AAGC,IAAA,SAAS,EAAED,WAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,EAYC,oBAAC,WAAD;AACC,IAAA,KAAK,MADN;AAEC,IAAA,IAAI,EAAC,SAFN;AAGC,IAAA,SAAS,EAAED,WAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZD,CADD,CALD,CAHD,CADD,CADD;AAkCA;;AAED,eAAeL,UAAU,CAACS,eAAD,CAAzB","sourcesContent":["import React from 'react';\n\nimport {\n\tRoute,\n\tSwitch,\n\twithRouter,\n\tRedirect\n} from 'react-router-dom';\n\nimport {\n\tAppContainer\n} from 'shared/containers';\n\nimport {\n\tTransitionGroup,\n\tCSSTransition\n} from 'react-transition-group';\n\nimport {\n\tSignUpEntry,\n\tSignInEntry,\n\tChatEntry\n} from 'entries';\n\nimport {\n\tgetToken\n} from 'modules/utils';\n\n\nfunction RoutesContainer ({ location }) {\n\tconst Workaround = ({ action, children }) => (\n\t\taction === 'REPLACE' ? null : children\n\t);\n\n\tconst CustomRoute = ({ protectedRoute, component: Component, ...rest }) => {\n\t\treturn (\n\t\t\t<Route\n\t\t\t\t{...rest}\n\t\t\t\trender={props => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\thistory\n\t\t\t\t\t} = props;\n\n\t\t\t\t\tconst token = getToken();\n\n\t\t\t\t\tif (!token && protectedRoute) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Workaround action={history.action}>\n\t\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\tpathname: 'signin',\n\t\t\t\t\t\t\t\t\t\tstate: { from: props.location }\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Workaround>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (token && !protectedRoute) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Workaround action={history.action}>\n\t\t\t\t\t\t\t\t<Redirect\n\t\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\t\tpathname: '/',\n\t\t\t\t\t\t\t\t\t\tstate: { from: props.location }\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Workaround>\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Component {...props} />\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t};\n\n\treturn (\n\t\t<AppContainer>\n\t\t\t<TransitionGroup\n\t\t\t\tclassName=\"transition-group-container\"\n\t\t\t>\n\t\t\t\t<CSSTransition\n\t\t\t\t\tkey={location.key}\n\t\t\t\t\ttimeout={{ enter: 300, exit: 200 }}\n\t\t\t\t\tclassNames=\"fade\"\n\t\t\t\t>\n\t\t\t\t\t<section className=\"route-section\">\n\t\t\t\t\t\t<Switch location={location}>\n\t\t\t\t\t\t\t<CustomRoute\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/'\n\t\t\t\t\t\t\t\tcomponent={ChatEntry}\n\t\t\t\t\t\t\t\tprotectedRoute\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CustomRoute\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/signin'\n\t\t\t\t\t\t\t\tcomponent={SignInEntry}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CustomRoute\n\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\tpath='/signup'\n\t\t\t\t\t\t\t\tcomponent={SignUpEntry}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</section>\n\t\t\t\t</CSSTransition>\n\t\t\t</TransitionGroup>\n\t\t</AppContainer>\n\t);\n}\n\nexport default withRouter(RoutesContainer);\n"]},"metadata":{},"sourceType":"module"}