{"ast":null,"code":"import _objectSpread from \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/src/entries/sign-up/containers/sign-up-form/index.jsx\";\nimport React, { Component } from 'react';\nimport { ButtonComponent, InputComponent, FormComponent, LoadingComponent, IconComponent } from 'shared/components';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport constants from 'modules/constants';\nimport _ from 'lodash';\nimport * as authActions from 'redux/actions/auth';\n\nvar SignUpFormContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpFormContainer, _Component);\n\n  function SignUpFormContainer() {\n    _classCallCheck(this, SignUpFormContainer);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(SignUpFormContainer).apply(this, arguments));\n  }\n\n  _createClass(SignUpFormContainer, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          authActions = _this$props.authActions,\n          authData = _this$props.authData;\n      var getVerifyNickname = authActions.getVerifyNickname,\n          postSignUp = authActions.postSignUp;\n      var verifyNickname = authData.verifyNickname,\n          signUp = authData.signUp;\n      return React.createElement(FormComponent, {\n        formName: \"SignUpForm\",\n        values: {\n          nickname: '',\n          password: '',\n          confirmPassword: ''\n        },\n        handleSubmit: function handleSubmit(values, formName) {\n          if (!signUp.isFetching) {\n            var params = {\n              body: values\n            };\n            postSignUp(params, formName);\n          }\n        },\n        validate: function validate(values, errors, resetErrors, keys) {\n          var confirmPassword = values.confirmPassword,\n              nickname = values.nickname,\n              password = values.password;\n          var newErrors = errors;\n\n          if (_.includes(keys, 'nickname')) {\n            if (resetErrors) {\n              delete newErrors.nickname;\n            }\n\n            if (!nickname) {\n              newErrors.nickname = constants.LABELS.AUTH.PLEASE_ENTER_YOUR_NICKNAME;\n            } else if (nickname.length < 2 || nickname.length > 12) {\n              newErrors.nickname = constants.LABELS.AUTH.NICKNAME_LENGHT_BETWEEN_2_AND_12;\n            }\n          }\n\n          if (_.includes(keys, 'password') || _.includes(keys, 'confirmPassword')) {\n            if (resetErrors) {\n              delete newErrors.password;\n              delete newErrors.confirmPassword;\n            }\n\n            if (!password) {\n              newErrors.password = constants.LABELS.AUTH.PLEASE_ENTER_YOUR_PASSWORD;\n            } else if (password.length < 5 || password.length > 12) {\n              newErrors.password = constants.LABELS.AUTH.PASSWORD_LENGHT_BETWEEN_5_AND_12;\n            } else if (!confirmPassword) {\n              newErrors.confirmPassword = constants.LABELS.AUTH.PLEASE_CONFIRM_PASSWORD;\n            } else if (confirmPassword !== password) {\n              newErrors.confirmPassword = constants.LABELS.AUTH.PASSWORD_DOESNT_MATCH;\n            }\n          }\n\n          return newErrors;\n        },\n        validateAsync: function validateAsync(key, value, formName) {\n          if (key === 'nickname') {\n            var params = {\n              body: {\n                nickname: value\n              },\n              formName: formName\n            };\n            getVerifyNickname(_objectSpread({}, params));\n          }\n        },\n        debounceValidation: {\n          nickname: 300\n        },\n        render: function render(_ref) {\n          var handleChange = _ref.handleChange,\n              handleFocus = _ref.handleFocus,\n              handleBlur = _ref.handleBlur,\n              handleSubmit = _ref.handleSubmit,\n              form = _ref.form;\n          var touched = form.touched,\n              errors = form.errors,\n              values = form.values;\n          return React.createElement(\"form\", {\n            onSubmit: handleSubmit,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129\n            },\n            __self: this\n          }, React.createElement(InputComponent, {\n            name: \"nickname\",\n            placeholder: constants.LABELS.AUTH.NICKNAME,\n            type: \"text\",\n            hasError: touched.nickname && errors.nickname,\n            errorMessage: errors.nickname,\n            autoComplete: \"off\",\n            onChange: handleChange,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            margin: \"13px 0px 13px 0px\",\n            maxLength: 12,\n            width: 280,\n            defaultButton: true,\n            iconRight: true,\n            iconComponent: function iconComponent() {\n              if (values.nickname) {\n                if (values.nickname.length > 0) {\n                  if (verifyNickname.isFetching) {\n                    return React.createElement(LoadingComponent, {\n                      type: \"donut\",\n                      __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 150\n                      },\n                      __self: this\n                    });\n                  }\n\n                  if (!_.isEmpty(verifyNickname.errors)) {\n                    return React.createElement(IconComponent, {\n                      fill: \"#da7079\",\n                      icon: \"alert\",\n                      width: 26,\n                      height: 26,\n                      __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 158\n                      },\n                      __self: this\n                    });\n                  }\n\n                  if (!(touched.nickname && errors.nickname)) {\n                    return React.createElement(IconComponent, {\n                      fill: \"#55c37c\",\n                      icon: \"checked\",\n                      width: 24,\n                      height: 24,\n                      __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 169\n                      },\n                      __self: this\n                    });\n                  }\n                }\n              }\n\n              return null;\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }), React.createElement(InputComponent, {\n            name: \"password\",\n            placeholder: constants.LABELS.AUTH.PASSWORD,\n            type: \"password\",\n            autoComplete: \"off\",\n            hasError: touched.password && errors.password,\n            errorMessage: errors.password,\n            onChange: handleChange,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            maxLength: 12,\n            margin: \"13px 0px 13px 0px\",\n            width: 280,\n            defaultButton: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 183\n            },\n            __self: this\n          }), React.createElement(InputComponent, {\n            name: \"confirmPassword\",\n            placeholder: constants.LABELS.AUTH.CONFIRM_PASSWORD,\n            type: \"password\",\n            autoComplete: \"off\",\n            hasError: touched.confirmPassword && errors.confirmPassword,\n            errorMessage: errors.confirmPassword,\n            onChange: handleChange,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            maxLength: 12,\n            margin: \"13px 0px 13px 0px\",\n            width: 280,\n            defaultButton: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198\n            },\n            __self: this\n          }), React.createElement(ButtonComponent, {\n            type: \"submit\",\n            primary: true,\n            text: constants.LABELS.AUTH.SIGNUP,\n            isFetching: signUp.isFetching,\n            disabled: verifyNickname.isFetching,\n            margin: \"24px 0px 0px 0px\",\n            width: 280,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 213\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return SignUpFormContainer;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    authData: state.auth\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    authActions: bindActionCreators(authActions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUpFormContainer);","map":{"version":3,"sources":["/home/tulio/Documentos/projetosJs/privoce/react-socketio-nodejs-chatapp/client/src/entries/sign-up/containers/sign-up-form/index.jsx"],"names":["React","Component","ButtonComponent","InputComponent","FormComponent","LoadingComponent","IconComponent","connect","bindActionCreators","constants","_","authActions","SignUpFormContainer","props","authData","getVerifyNickname","postSignUp","verifyNickname","signUp","nickname","password","confirmPassword","values","formName","isFetching","params","body","errors","resetErrors","keys","newErrors","includes","LABELS","AUTH","PLEASE_ENTER_YOUR_NICKNAME","length","NICKNAME_LENGHT_BETWEEN_2_AND_12","PLEASE_ENTER_YOUR_PASSWORD","PASSWORD_LENGHT_BETWEEN_5_AND_12","PLEASE_CONFIRM_PASSWORD","PASSWORD_DOESNT_MATCH","key","value","handleChange","handleFocus","handleBlur","handleSubmit","form","touched","NICKNAME","isEmpty","PASSWORD","CONFIRM_PASSWORD","SIGNUP","mapStateToProps","state","auth","mapDispatchToProps","dispatch"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IACCC,SADD,QAEO,OAFP;AAIA,SACCC,eADD,EAECC,cAFD,EAGCC,aAHD,EAICC,gBAJD,EAKCC,aALD,QAMO,mBANP;AAQA,SACCC,OADD,QAEO,aAFP;AAIA,SACCC,kBADD,QAEO,OAFP;AAIA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAO,KAAKC,WAAZ,MAA6B,oBAA7B;;IAEMC,mB;;;;;;;;;;;;;6BACK;AAAA,wBAIL,KAAKC,KAJA;AAAA,UAERF,WAFQ,eAERA,WAFQ;AAAA,UAGRG,QAHQ,eAGRA,QAHQ;AAAA,UAORC,iBAPQ,GASLJ,WATK,CAORI,iBAPQ;AAAA,UAQRC,UARQ,GASLL,WATK,CAQRK,UARQ;AAAA,UAYRC,cAZQ,GAcLH,QAdK,CAYRG,cAZQ;AAAA,UAaRC,MAbQ,GAcLJ,QAdK,CAaRI,MAbQ;AAgBT,aACC,oBAAC,aAAD;AACC,QAAA,QAAQ,EAAC,YADV;AAEC,QAAA,MAAM,EAAE;AACPC,UAAAA,QAAQ,EAAE,EADH;AAEPC,UAAAA,QAAQ,EAAE,EAFH;AAGPC,UAAAA,eAAe,EAAE;AAHV,SAFT;AAOC,QAAA,YAAY,EAAE,sBAACC,MAAD,EAASC,QAAT,EAAsB;AACnC,cAAI,CAACL,MAAM,CAACM,UAAZ,EAAwB;AACvB,gBAAMC,MAAM,GAAG;AACdC,cAAAA,IAAI,EAAEJ;AADQ,aAAf;AAIAN,YAAAA,UAAU,CAACS,MAAD,EAASF,QAAT,CAAV;AACA;AACD,SAfF;AAgBC,QAAA,QAAQ,EAAE,kBAACD,MAAD,EAASK,MAAT,EAAiBC,WAAjB,EAA8BC,IAA9B,EAAuC;AAAA,cAE/CR,eAF+C,GAK5CC,MAL4C,CAE/CD,eAF+C;AAAA,cAG/CF,QAH+C,GAK5CG,MAL4C,CAG/CH,QAH+C;AAAA,cAI/CC,QAJ+C,GAK5CE,MAL4C,CAI/CF,QAJ+C;AAOhD,cAAMU,SAAS,GAAGH,MAAlB;;AAEA,cAAIjB,CAAC,CAACqB,QAAF,CAAWF,IAAX,EAAiB,UAAjB,CAAJ,EAAkC;AACjC,gBAAID,WAAJ,EAAiB;AAChB,qBAAOE,SAAS,CAACX,QAAjB;AACA;;AACD,gBAAI,CAACA,QAAL,EAAe;AACdW,cAAAA,SAAS,CAACX,QAAV,GAAqBV,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBC,0BAA3C;AACA,aAFD,MAEO,IAAIf,QAAQ,CAACgB,MAAT,GAAkB,CAAlB,IAAuBhB,QAAQ,CAACgB,MAAT,GAAkB,EAA7C,EAAiD;AACvDL,cAAAA,SAAS,CAACX,QAAV,GAAqBV,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBG,gCAA3C;AACA;AACD;;AAED,cAAI1B,CAAC,CAACqB,QAAF,CAAWF,IAAX,EAAiB,UAAjB,KAAgCnB,CAAC,CAACqB,QAAF,CAAWF,IAAX,EAAiB,iBAAjB,CAApC,EAAyE;AACxE,gBAAID,WAAJ,EAAiB;AAChB,qBAAOE,SAAS,CAACV,QAAjB;AACA,qBAAOU,SAAS,CAACT,eAAjB;AACA;;AAED,gBAAI,CAACD,QAAL,EAAe;AACdU,cAAAA,SAAS,CAACV,QAAV,GAAqBX,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBI,0BAA3C;AACA,aAFD,MAEO,IAAIjB,QAAQ,CAACe,MAAT,GAAkB,CAAlB,IAAuBf,QAAQ,CAACe,MAAT,GAAkB,EAA7C,EAAiD;AACvDL,cAAAA,SAAS,CAACV,QAAV,GAAqBX,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBK,gCAA3C;AACA,aAFM,MAEA,IAAI,CAACjB,eAAL,EAAsB;AAC5BS,cAAAA,SAAS,CAACT,eAAV,GAA4BZ,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBM,uBAAlD;AACA,aAFM,MAEA,IAAIlB,eAAe,KAAKD,QAAxB,EAAkC;AACxCU,cAAAA,SAAS,CAACT,eAAV,GAA4BZ,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBO,qBAAlD;AACA;AACD;;AAED,iBAAOV,SAAP;AACA,SAtDF;AAuDC,QAAA,aAAa,EAAE,uBAACW,GAAD,EAAMC,KAAN,EAAanB,QAAb,EAA0B;AACxC,cAAIkB,GAAG,KAAK,UAAZ,EAAwB;AACvB,gBAAMhB,MAAM,GAAG;AACdC,cAAAA,IAAI,EAAE;AACLP,gBAAAA,QAAQ,EAAEuB;AADL,eADQ;AAIdnB,cAAAA,QAAQ,EAARA;AAJc,aAAf;AAOAR,YAAAA,iBAAiB,mBACbU,MADa,EAAjB;AAGA;AACD,SApEF;AAqEC,QAAA,kBAAkB,EAAE;AACnBN,UAAAA,QAAQ,EAAE;AADS,SArErB;AAwEC,QAAA,MAAM,EAAE,sBAMF;AAAA,cALLwB,YAKK,QALLA,YAKK;AAAA,cAJLC,WAIK,QAJLA,WAIK;AAAA,cAHLC,UAGK,QAHLA,UAGK;AAAA,cAFLC,YAEK,QAFLA,YAEK;AAAA,cADLC,IACK,QADLA,IACK;AAAA,cAEJC,OAFI,GAKDD,IALC,CAEJC,OAFI;AAAA,cAGJrB,MAHI,GAKDoB,IALC,CAGJpB,MAHI;AAAA,cAIJL,MAJI,GAKDyB,IALC,CAIJzB,MAJI;AAOL,iBACC;AAAM,YAAA,QAAQ,EAAEwB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACC,oBAAC,cAAD;AACC,YAAA,IAAI,EAAC,UADN;AAEC,YAAA,WAAW,EAAErC,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBgB,QAFpC;AAGC,YAAA,IAAI,EAAC,MAHN;AAIC,YAAA,QAAQ,EAAED,OAAO,CAAC7B,QAAR,IAAoBQ,MAAM,CAACR,QAJtC;AAKC,YAAA,YAAY,EAAEQ,MAAM,CAACR,QALtB;AAMC,YAAA,YAAY,EAAC,KANd;AAOC,YAAA,QAAQ,EAAEwB,YAPX;AAQC,YAAA,OAAO,EAAEC,WARV;AASC,YAAA,MAAM,EAAEC,UATT;AAUC,YAAA,MAAM,EAAC,mBAVR;AAWC,YAAA,SAAS,EAAE,EAXZ;AAYC,YAAA,KAAK,EAAE,GAZR;AAaC,YAAA,aAAa,MAbd;AAcC,YAAA,SAAS,MAdV;AAeC,YAAA,aAAa,EAAE,yBAAM;AACpB,kBAAIvB,MAAM,CAACH,QAAX,EAAqB;AACpB,oBAAIG,MAAM,CAACH,QAAP,CAAgBgB,MAAhB,GAAyB,CAA7B,EAAgC;AAC/B,sBAAIlB,cAAc,CAACO,UAAnB,EAA+B;AAC9B,2BACC,oBAAC,gBAAD;AACC,sBAAA,IAAI,EAAC,OADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD;AAKA;;AAED,sBAAI,CAACd,CAAC,CAACwC,OAAF,CAAUjC,cAAc,CAACU,MAAzB,CAAL,EAAuC;AACtC,2BACC,oBAAC,aAAD;AACC,sBAAA,IAAI,EAAC,SADN;AAEC,sBAAA,IAAI,EAAC,OAFN;AAGC,sBAAA,KAAK,EAAE,EAHR;AAIC,sBAAA,MAAM,EAAE,EAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD;AAQA;;AAED,sBAAI,EAAEqB,OAAO,CAAC7B,QAAR,IAAoBQ,MAAM,CAACR,QAA7B,CAAJ,EAA4C;AAC3C,2BACC,oBAAC,aAAD;AACC,sBAAA,IAAI,EAAC,SADN;AAEC,sBAAA,IAAI,EAAC,SAFN;AAGC,sBAAA,KAAK,EAAE,EAHR;AAIC,sBAAA,MAAM,EAAE,EAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD;AAQA;AACD;AACD;;AAED,qBAAO,IAAP;AACA,aAnDF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADD,EAsDC,oBAAC,cAAD;AACC,YAAA,IAAI,EAAC,UADN;AAEC,YAAA,WAAW,EAAEV,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBkB,QAFpC;AAGC,YAAA,IAAI,EAAC,UAHN;AAIC,YAAA,YAAY,EAAC,KAJd;AAKC,YAAA,QAAQ,EAAEH,OAAO,CAAC5B,QAAR,IAAoBO,MAAM,CAACP,QALtC;AAMC,YAAA,YAAY,EAAEO,MAAM,CAACP,QANtB;AAOC,YAAA,QAAQ,EAAEuB,YAPX;AAQC,YAAA,OAAO,EAAEC,WARV;AASC,YAAA,MAAM,EAAEC,UATT;AAUC,YAAA,SAAS,EAAE,EAVZ;AAWC,YAAA,MAAM,EAAC,mBAXR;AAYC,YAAA,KAAK,EAAE,GAZR;AAaC,YAAA,aAAa,MAbd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAtDD,EAqEC,oBAAC,cAAD;AACC,YAAA,IAAI,EAAC,iBADN;AAEC,YAAA,WAAW,EAAEpC,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBmB,gBAFpC;AAGC,YAAA,IAAI,EAAC,UAHN;AAIC,YAAA,YAAY,EAAC,KAJd;AAKC,YAAA,QAAQ,EAAEJ,OAAO,CAAC3B,eAAR,IAA2BM,MAAM,CAACN,eAL7C;AAMC,YAAA,YAAY,EAAEM,MAAM,CAACN,eANtB;AAOC,YAAA,QAAQ,EAAEsB,YAPX;AAQC,YAAA,OAAO,EAAEC,WARV;AASC,YAAA,MAAM,EAAEC,UATT;AAUC,YAAA,SAAS,EAAE,EAVZ;AAWC,YAAA,MAAM,EAAC,mBAXR;AAYC,YAAA,KAAK,EAAE,GAZR;AAaC,YAAA,aAAa,MAbd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YArED,EAoFC,oBAAC,eAAD;AACC,YAAA,IAAI,EAAC,QADN;AAEC,YAAA,OAAO,MAFR;AAGC,YAAA,IAAI,EAAEpC,SAAS,CAACuB,MAAV,CAAiBC,IAAjB,CAAsBoB,MAH7B;AAIC,YAAA,UAAU,EAAEnC,MAAM,CAACM,UAJpB;AAKC,YAAA,QAAQ,EAAEP,cAAc,CAACO,UAL1B;AAMC,YAAA,MAAM,EAAC,kBANR;AAOC,YAAA,KAAK,EAAE,GAPR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YApFD,CADD;AAgGA,SArLF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAyLA;;;;EA1MgCvB,S;;AA6MlC,IAAMqD,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAClC,SAAO;AACNzC,IAAAA,QAAQ,EAAEyC,KAAK,CAACC;AADV,GAAP;AAGA,CAJD;;AAMA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACxC,SAAO;AACN/C,IAAAA,WAAW,EAAEH,kBAAkB,CAACG,WAAD,EAAc+C,QAAd;AADzB,GAAP;AAGA,CAJD;;AAMA,eAAenD,OAAO,CACrB+C,eADqB,EAErBG,kBAFqB,CAAP,CAGb7C,mBAHa,CAAf","sourcesContent":["import React, {\n\tComponent\n} from 'react';\n\nimport {\n\tButtonComponent,\n\tInputComponent,\n\tFormComponent,\n\tLoadingComponent,\n\tIconComponent\n} from 'shared/components';\n\nimport {\n\tconnect\n} from 'react-redux';\n\nimport {\n\tbindActionCreators\n} from 'redux';\n\nimport constants from 'modules/constants';\nimport _ from 'lodash';\nimport * as authActions from 'redux/actions/auth';\n\nclass SignUpFormContainer extends Component {\n\trender () {\n\t\tconst {\n\t\t\tauthActions,\n\t\t\tauthData\n\t\t} = this.props;\n\n\t\tconst {\n\t\t\tgetVerifyNickname,\n\t\t\tpostSignUp\n\t\t} = authActions;\n\n\t\tconst {\n\t\t\tverifyNickname,\n\t\t\tsignUp\n\t\t} = authData;\n\n\t\treturn (\n\t\t\t<FormComponent\n\t\t\t\tformName='SignUpForm'\n\t\t\t\tvalues={{\n\t\t\t\t\tnickname: '',\n\t\t\t\t\tpassword: '',\n\t\t\t\t\tconfirmPassword: ''\n\t\t\t\t}}\n\t\t\t\thandleSubmit={(values, formName) => {\n\t\t\t\t\tif (!signUp.isFetching) {\n\t\t\t\t\t\tconst params = {\n\t\t\t\t\t\t\tbody: values\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tpostSignUp(params, formName);\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tvalidate={(values, errors, resetErrors, keys) => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\tconfirmPassword,\n\t\t\t\t\t\tnickname,\n\t\t\t\t\t\tpassword\n\t\t\t\t\t} = values;\n\n\t\t\t\t\tconst newErrors = errors;\n\n\t\t\t\t\tif (_.includes(keys, 'nickname')) {\n\t\t\t\t\t\tif (resetErrors) {\n\t\t\t\t\t\t\tdelete newErrors.nickname;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!nickname) {\n\t\t\t\t\t\t\tnewErrors.nickname = constants.LABELS.AUTH.PLEASE_ENTER_YOUR_NICKNAME;\n\t\t\t\t\t\t} else if (nickname.length < 2 || nickname.length > 12) {\n\t\t\t\t\t\t\tnewErrors.nickname = constants.LABELS.AUTH.NICKNAME_LENGHT_BETWEEN_2_AND_12;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_.includes(keys, 'password') || _.includes(keys, 'confirmPassword')) {\n\t\t\t\t\t\tif (resetErrors) {\n\t\t\t\t\t\t\tdelete newErrors.password;\n\t\t\t\t\t\t\tdelete newErrors.confirmPassword;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!password) {\n\t\t\t\t\t\t\tnewErrors.password = constants.LABELS.AUTH.PLEASE_ENTER_YOUR_PASSWORD;\n\t\t\t\t\t\t} else if (password.length < 5 || password.length > 12) {\n\t\t\t\t\t\t\tnewErrors.password = constants.LABELS.AUTH.PASSWORD_LENGHT_BETWEEN_5_AND_12;\n\t\t\t\t\t\t} else if (!confirmPassword) {\n\t\t\t\t\t\t\tnewErrors.confirmPassword = constants.LABELS.AUTH.PLEASE_CONFIRM_PASSWORD;\n\t\t\t\t\t\t} else if (confirmPassword !== password) {\n\t\t\t\t\t\t\tnewErrors.confirmPassword = constants.LABELS.AUTH.PASSWORD_DOESNT_MATCH;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn newErrors;\n\t\t\t\t}}\n\t\t\t\tvalidateAsync={(key, value, formName) => {\n\t\t\t\t\tif (key === 'nickname') {\n\t\t\t\t\t\tconst params = {\n\t\t\t\t\t\t\tbody: {\n\t\t\t\t\t\t\t\tnickname: value\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tformName\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tgetVerifyNickname({\n\t\t\t\t\t\t\t...params\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t\tdebounceValidation={{\n\t\t\t\t\tnickname: 300\n\t\t\t\t}}\n\t\t\t\trender={({\n\t\t\t\t\thandleChange,\n\t\t\t\t\thandleFocus,\n\t\t\t\t\thandleBlur,\n\t\t\t\t\thandleSubmit,\n\t\t\t\t\tform\n\t\t\t\t}) => {\n\t\t\t\t\tconst {\n\t\t\t\t\t\ttouched,\n\t\t\t\t\t\terrors,\n\t\t\t\t\t\tvalues\n\t\t\t\t\t} = form;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<InputComponent\n\t\t\t\t\t\t\t\tname='nickname'\n\t\t\t\t\t\t\t\tplaceholder={constants.LABELS.AUTH.NICKNAME}\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\thasError={touched.nickname && errors.nickname}\n\t\t\t\t\t\t\t\terrorMessage={errors.nickname}\n\t\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonFocus={handleFocus}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tmargin=\"13px 0px 13px 0px\"\n\t\t\t\t\t\t\t\tmaxLength={12}\n\t\t\t\t\t\t\t\twidth={280}\n\t\t\t\t\t\t\t\tdefaultButton\n\t\t\t\t\t\t\t\ticonRight\n\t\t\t\t\t\t\t\ticonComponent={() => {\n\t\t\t\t\t\t\t\t\tif (values.nickname) {\n\t\t\t\t\t\t\t\t\t\tif (values.nickname.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (verifyNickname.isFetching) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<LoadingComponent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='donut'\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (!_.isEmpty(verifyNickname.errors)) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconComponent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#da7079\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"alert\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={26}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={26}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\tif (!(touched.nickname && errors.nickname)) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconComponent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfill=\"#55c37c\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon=\"checked\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth={24}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight={24}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<InputComponent\n\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\tplaceholder={constants.LABELS.AUTH.PASSWORD}\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\t\thasError={touched.password && errors.password}\n\t\t\t\t\t\t\t\terrorMessage={errors.password}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonFocus={handleFocus}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tmaxLength={12}\n\t\t\t\t\t\t\t\tmargin=\"13px 0px 13px 0px\"\n\t\t\t\t\t\t\t\twidth={280}\n\t\t\t\t\t\t\t\tdefaultButton\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<InputComponent\n\t\t\t\t\t\t\t\tname='confirmPassword'\n\t\t\t\t\t\t\t\tplaceholder={constants.LABELS.AUTH.CONFIRM_PASSWORD}\n\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\tautoComplete='off'\n\t\t\t\t\t\t\t\thasError={touched.confirmPassword && errors.confirmPassword}\n\t\t\t\t\t\t\t\terrorMessage={errors.confirmPassword}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonFocus={handleFocus}\n\t\t\t\t\t\t\t\tonBlur={handleBlur}\n\t\t\t\t\t\t\t\tmaxLength={12}\n\t\t\t\t\t\t\t\tmargin=\"13px 0px 13px 0px\"\n\t\t\t\t\t\t\t\twidth={280}\n\t\t\t\t\t\t\t\tdefaultButton\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<ButtonComponent\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tprimary\n\t\t\t\t\t\t\t\ttext={constants.LABELS.AUTH.SIGNUP}\n\t\t\t\t\t\t\t\tisFetching={signUp.isFetching}\n\t\t\t\t\t\t\t\tdisabled={verifyNickname.isFetching}\n\t\t\t\t\t\t\t\tmargin=\"24px 0px 0px 0px\"\n\t\t\t\t\t\t\t\twidth={280}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tauthData: state.auth\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tauthActions: bindActionCreators(authActions, dispatch)\n\t};\n};\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(SignUpFormContainer);\n"]},"metadata":{},"sourceType":"module"}